{
  "ast": null,
  "code": "/*\r\n\r\n\r\n*/\nvar moment = require('moment');\n\nvar Parser = require('../parser').Parser;\n\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar util = require('../../utils/FR');\n\nvar PATTERN = new RegExp('(\\\\W|^)' + '(dans|en)\\\\s*' + '(' + util.INTEGER_WORDS_PATTERN + '|[0-9]+|une?|(?:\\\\s*quelques)?|demi(?:\\\\s*|-?)?)\\\\s*' + '(secondes?|min(?:ute)?s?|heures?|jours?|semaines?|mois|années?)\\\\s*' + '(?=\\\\W|$)', 'i');\nvar STRICT_PATTERN = new RegExp('(\\\\W|^)' + '(dans|en)\\\\s*' + '(' + util.INTEGER_WORDS_PATTERN + '|[0-9]+|un?)\\\\s*' + '(secondes?|minutes?|heures?|jours?)\\\\s*' + '(?=\\\\W|$)', 'i');\n\nexports.Parser = function FRDeadlineFormatParser() {\n  Parser.apply(this, arguments);\n\n  this.pattern = function () {\n    return this.isStrictMode() ? STRICT_PATTERN : PATTERN;\n  };\n\n  this.extract = function (text, ref, match, opt) {\n    var index = match.index + match[1].length;\n    var text = match[0];\n    text = match[0].substr(match[1].length, match[0].length - match[1].length);\n    var result = new ParsedResult({\n      index: index,\n      text: text,\n      ref: ref\n    });\n    var num = match[3];\n\n    if (util.INTEGER_WORDS[num] !== undefined) {\n      num = util.INTEGER_WORDS[num];\n    } else if (num === 'un' || num === 'une') {\n      num = 1;\n    } else if (num.match(/quelques?/i)) {\n      num = 3;\n    } else if (num.match(/demi-?/i)) {\n      num = 0.5;\n    } else {\n      num = parseInt(num);\n    }\n\n    var date = moment(ref);\n\n    if (match[4].match(/jour|semaine|mois|année/i)) {\n      if (match[4].match(/jour/)) {\n        date.add(num, 'd');\n      } else if (match[4].match(/semaine/i)) {\n        date.add(num * 7, 'd');\n      } else if (match[4].match(/mois/i)) {\n        date.add(num, 'month');\n      } else if (match[4].match(/année/i)) {\n        date.add(num, 'year');\n      }\n\n      result.start.assign('year', date.year());\n      result.start.assign('month', date.month() + 1);\n      result.start.assign('day', date.date());\n      return result;\n    }\n\n    if (match[4].match(/heure/i)) {\n      date.add(num, 'hour');\n    } else if (match[4].match(/min/i)) {\n      date.add(num, 'minutes');\n    } else if (match[4].match(/secondes/i)) {\n      date.add(num, 'second');\n    }\n\n    result.start.imply('year', date.year());\n    result.start.imply('month', date.month() + 1);\n    result.start.imply('day', date.date());\n    result.start.assign('hour', date.hour());\n    result.start.assign('minute', date.minute());\n    result.start.assign('second', date.second());\n    result.tags['FRDeadlineFormatParser'] = true;\n    return result;\n  };\n};",
  "map": {
    "version": 3,
    "sources": [
      "/Users/peter/Desktop/code/popcode/node_modules/chrono-node/src/parsers/fr/FRDeadlineFormatParser.js"
    ],
    "names": [
      "moment",
      "require",
      "Parser",
      "ParsedResult",
      "util",
      "PATTERN",
      "RegExp",
      "INTEGER_WORDS_PATTERN",
      "STRICT_PATTERN",
      "exports",
      "FRDeadlineFormatParser",
      "apply",
      "arguments",
      "pattern",
      "isStrictMode",
      "extract",
      "text",
      "ref",
      "match",
      "opt",
      "index",
      "length",
      "substr",
      "result",
      "num",
      "INTEGER_WORDS",
      "undefined",
      "parseInt",
      "date",
      "add",
      "start",
      "assign",
      "year",
      "month",
      "imply",
      "hour",
      "minute",
      "second",
      "tags"
    ],
    "mappings": "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",
    "sourcesContent": [
      "/*\r\n\r\n\r\n*/\r\n\r\nvar moment = require('moment');\r\nvar Parser = require('../parser').Parser;\r\nvar ParsedResult = require('../../result').ParsedResult;\r\nvar util  = require('../../utils/FR');\r\n\r\nvar PATTERN = new RegExp('(\\\\W|^)' +\r\n    '(dans|en)\\\\s*' +\r\n    '('+ util.INTEGER_WORDS_PATTERN + '|[0-9]+|une?|(?:\\\\s*quelques)?|demi(?:\\\\s*|-?)?)\\\\s*' +\r\n    '(secondes?|min(?:ute)?s?|heures?|jours?|semaines?|mois|années?)\\\\s*' +\r\n    '(?=\\\\W|$)', 'i'\r\n);\r\n\r\nvar STRICT_PATTERN = new RegExp('(\\\\W|^)' +\r\n    '(dans|en)\\\\s*' +\r\n    '('+ util.INTEGER_WORDS_PATTERN + '|[0-9]+|un?)\\\\s*' +\r\n    '(secondes?|minutes?|heures?|jours?)\\\\s*' +\r\n    '(?=\\\\W|$)', 'i'\r\n);\r\n\r\nexports.Parser = function FRDeadlineFormatParser(){\r\n    Parser.apply(this, arguments);\r\n\r\n    this.pattern = function() {\r\n        return this.isStrictMode()? STRICT_PATTERN : PATTERN;\r\n    };\r\n\r\n    this.extract = function(text, ref, match, opt){\r\n\r\n        var index = match.index + match[1].length;\r\n        var text  = match[0];\r\n        text  = match[0].substr(match[1].length, match[0].length - match[1].length);\r\n\r\n        var result = new ParsedResult({\r\n            index: index,\r\n            text: text,\r\n            ref: ref\r\n        });\r\n\r\n        var num = match[3];\r\n        if (util.INTEGER_WORDS[num] !== undefined) {\r\n            num = util.INTEGER_WORDS[num];\r\n        } else if (num === 'un' || num === 'une'){\r\n            num = 1;\r\n        } else if (num.match(/quelques?/i)){\r\n            num = 3;\r\n        } else if (num.match(/demi-?/i)) {\r\n            num = 0.5;\r\n        } else {\r\n            num = parseInt(num);\r\n        }\r\n\r\n        var date = moment(ref);\r\n        if (match[4].match(/jour|semaine|mois|année/i)) {\r\n\r\n            if (match[4].match(/jour/)) {\r\n                date.add(num, 'd');\r\n            } else if (match[4].match(/semaine/i)) {\r\n                date.add(num * 7, 'd');\r\n            } else if (match[4].match(/mois/i)) {\r\n                date.add(num, 'month');\r\n            } else if (match[4].match(/année/i)) {\r\n                date.add(num, 'year');\r\n            }\r\n\r\n            result.start.assign('year', date.year());\r\n            result.start.assign('month', date.month() + 1);\r\n            result.start.assign('day', date.date());\r\n            return result;\r\n        }\r\n\r\n        if (match[4].match(/heure/i)) {\r\n\r\n            date.add(num, 'hour');\r\n\r\n        } else if (match[4].match(/min/i)) {\r\n\r\n            date.add(num, 'minutes');\r\n\r\n        } else if (match[4].match(/secondes/i)) {\r\n\r\n            date.add(num, 'second');\r\n        }\r\n\r\n        result.start.imply('year', date.year());\r\n        result.start.imply('month', date.month() + 1);\r\n        result.start.imply('day', date.date());\r\n        result.start.assign('hour', date.hour());\r\n        result.start.assign('minute', date.minute());\r\n        result.start.assign('second', date.second());\r\n        result.tags['FRDeadlineFormatParser'] = true;\r\n        return result;\r\n    };\r\n};\r\n"
    ]
  },
  "metadata": {},
  "sourceType": "module"
}
