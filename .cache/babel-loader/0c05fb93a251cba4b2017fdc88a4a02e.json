{
  "ast": null,
  "code": "var PROJECT_STORAGE_KEY = 'last-closed-session-project-state';\nvar GRACE_PERIOD = 5 * 60 * 1000;\nexport function dehydrateProject(project) {\n  localStorage.setItem(PROJECT_STORAGE_KEY, JSON.stringify({\n    dehydratedAt: Date.now(),\n    project: project\n  }));\n}\nexport function rehydrateProject() {\n  var dehydrated = localStorage.getItem(PROJECT_STORAGE_KEY);\n  localStorage.removeItem(PROJECT_STORAGE_KEY);\n\n  if (dehydrated) {\n    var rehydrated = JSON.parse(dehydrated);\n\n    if (Date.now() - rehydrated.dehydratedAt <= GRACE_PERIOD) {\n      return rehydrated.project;\n    }\n  }\n\n  return null;\n}",
  "map": {
    "version": 3,
    "sources": [
      "/Users/peter/Desktop/code/popcode/src/clients/localStorage.js"
    ],
    "names": [
      "PROJECT_STORAGE_KEY",
      "GRACE_PERIOD",
      "dehydrateProject",
      "project",
      "localStorage",
      "setItem",
      "JSON",
      "stringify",
      "dehydratedAt",
      "Date",
      "now",
      "rehydrateProject",
      "dehydrated",
      "getItem",
      "removeItem",
      "rehydrated",
      "parse"
    ],
    "mappings": "AAAA,IAAMA,mBAAmB,GAAG,mCAA5B;AACA,IAAMC,YAAY,GAAG,IAAI,EAAJ,GAAS,IAA9B;AAEA,OAAO,SAASC,gBAAT,CAA0BC,OAA1B,EAAmC;AACxCC,EAAAA,YAAY,CAACC,OAAb,CACEL,mBADF,EAEEM,IAAI,CAACC,SAAL,CAAe;AACbC,IAAAA,YAAY,EAAEC,IAAI,CAACC,GAAL,EADD;AAEbP,IAAAA,OAAO,EAAPA;AAFa,GAAf,CAFF;AAOD;AAED,OAAO,SAASQ,gBAAT,GAA4B;AACjC,MAAMC,UAAU,GAAGR,YAAY,CAACS,OAAb,CAAqBb,mBAArB,CAAnB;AACAI,EAAAA,YAAY,CAACU,UAAb,CAAwBd,mBAAxB;;AACA,MAAIY,UAAJ,EAAgB;AACd,QAAMG,UAAU,GAAGT,IAAI,CAACU,KAAL,CAAWJ,UAAX,CAAnB;;AACA,QAAIH,IAAI,CAACC,GAAL,KAAaK,UAAU,CAACP,YAAxB,IAAwCP,YAA5C,EAA0D;AACxD,aAAOc,UAAU,CAACZ,OAAlB;AACD;AACF;;AACD,SAAO,IAAP;AACD",
    "sourcesContent": [
      "const PROJECT_STORAGE_KEY = 'last-closed-session-project-state';\nconst GRACE_PERIOD = 5 * 60 * 1000;\n\nexport function dehydrateProject(project) {\n  localStorage.setItem(\n    PROJECT_STORAGE_KEY,\n    JSON.stringify({\n      dehydratedAt: Date.now(),\n      project,\n    }),\n  );\n}\n\nexport function rehydrateProject() {\n  const dehydrated = localStorage.getItem(PROJECT_STORAGE_KEY);\n  localStorage.removeItem(PROJECT_STORAGE_KEY);\n  if (dehydrated) {\n    const rehydrated = JSON.parse(dehydrated);\n    if (Date.now() - rehydrated.dehydratedAt <= GRACE_PERIOD) {\n      return rehydrated.project;\n    }\n  }\n  return null;\n}\n"
    ]
  },
  "metadata": {},
  "sourceType": "module"
}
