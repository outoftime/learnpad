{
  "ast": null,
  "code": "/*\n\n\n*/\nvar moment = require('moment');\n\nvar Parser = require('../parser').Parser;\n\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar updateParsedComponent = require('../en/ENWeekdayParser').updateParsedComponent;\n\nvar util = require('../../utils/ZH-Hant.js');\n\nvar PATTERN = new RegExp('(上|今|下|這|呢)?' + '(?:個)?' + '(?:星期|禮拜)' + '(' + Object.keys(util.WEEKDAY_OFFSET).join('|') + ')');\nvar PREFIX_GROUP = 1;\nvar WEEKDAY_GROUP = 2;\n\nexports.Parser = function ZHHantWeekdayParser() {\n  Parser.apply(this, arguments);\n\n  this.pattern = function () {\n    return PATTERN;\n  };\n\n  this.extract = function (text, ref, match, opt) {\n    var index = match.index;\n    text = match[0];\n    var result = new ParsedResult({\n      index: index,\n      text: text,\n      ref: ref\n    });\n    var dayOfWeek = match[WEEKDAY_GROUP];\n    var offset = util.WEEKDAY_OFFSET[dayOfWeek];\n    if (offset === undefined) return null;\n    var modifier = null;\n    var prefix = match[PREFIX_GROUP];\n\n    if (prefix == '上') {\n      modifier = 'last';\n    } else if (prefix == '下') {\n      modifier = 'next';\n    } else if (prefix == '今' || prefix == '這' || prefix == '呢') {\n      modifier = 'this';\n    }\n\n    updateParsedComponent(result, ref, offset, modifier);\n    result.tags['ZHHantWeekdayParser'] = true;\n    return result;\n  };\n};",
  "map": {
    "version": 3,
    "sources": [
      "/Users/peter/Desktop/code/popcode/node_modules/chrono-node/src/parsers/zh-Hant/ZHHantWeekdayParser.js"
    ],
    "names": [
      "moment",
      "require",
      "Parser",
      "ParsedResult",
      "updateParsedComponent",
      "util",
      "PATTERN",
      "RegExp",
      "Object",
      "keys",
      "WEEKDAY_OFFSET",
      "join",
      "PREFIX_GROUP",
      "WEEKDAY_GROUP",
      "exports",
      "ZHHantWeekdayParser",
      "apply",
      "arguments",
      "pattern",
      "extract",
      "text",
      "ref",
      "match",
      "opt",
      "index",
      "result",
      "dayOfWeek",
      "offset",
      "undefined",
      "modifier",
      "prefix",
      "tags"
    ],
    "mappings": "AAAA;;;;AAKA,IAAIA,MAAM,GAAGC,OAAO,CAAC,QAAD,CAApB;;AACA,IAAIC,MAAM,GAAGD,OAAO,CAAC,WAAD,CAAP,CAAqBC,MAAlC;;AACA,IAAIC,YAAY,GAAGF,OAAO,CAAC,cAAD,CAAP,CAAwBE,YAA3C;;AACA,IAAIC,qBAAqB,GAAGH,OAAO,CAAC,uBAAD,CAAP,CAAiCG,qBAA7D;;AAEA,IAAIC,IAAI,GAAGJ,OAAO,CAAC,wBAAD,CAAlB;;AAEA,IAAIK,OAAO,GAAG,IAAIC,MAAJ,CACV,iBACA,QADA,GAEA,WAFA,GAGA,GAHA,GAGMC,MAAM,CAACC,IAAP,CAAYJ,IAAI,CAACK,cAAjB,EAAiCC,IAAjC,CAAsC,GAAtC,CAHN,GAGmD,GAJzC,CAAd;AAOA,IAAIC,YAAY,GAAG,CAAnB;AACA,IAAIC,aAAa,GAAG,CAApB;;AAEAC,OAAO,CAACZ,MAAR,GAAiB,SAASa,mBAAT,GAA+B;AAE5Cb,EAAAA,MAAM,CAACc,KAAP,CAAa,IAAb,EAAmBC,SAAnB;;AAEA,OAAKC,OAAL,GAAe,YAAW;AACtB,WAAOZ,OAAP;AACH,GAFD;;AAIA,OAAKa,OAAL,GAAe,UAASC,IAAT,EAAeC,GAAf,EAAoBC,KAApB,EAA2BC,GAA3B,EAAgC;AAC3C,QAAIC,KAAK,GAAGF,KAAK,CAACE,KAAlB;AACAJ,IAAAA,IAAI,GAAGE,KAAK,CAAC,CAAD,CAAZ;AACA,QAAIG,MAAM,GAAG,IAAItB,YAAJ,CAAiB;AAC1BqB,MAAAA,KAAK,EAAEA,KADmB;AAE1BJ,MAAAA,IAAI,EAAEA,IAFoB;AAG1BC,MAAAA,GAAG,EAAEA;AAHqB,KAAjB,CAAb;AAMA,QAAIK,SAAS,GAAGJ,KAAK,CAACT,aAAD,CAArB;AACA,QAAIc,MAAM,GAAGtB,IAAI,CAACK,cAAL,CAAoBgB,SAApB,CAAb;AACA,QAAGC,MAAM,KAAKC,SAAd,EAAyB,OAAO,IAAP;AAEzB,QAAIC,QAAQ,GAAG,IAAf;AACA,QAAIC,MAAM,GAAGR,KAAK,CAACV,YAAD,CAAlB;;AAEA,QAAGkB,MAAM,IAAI,GAAb,EAAkB;AACdD,MAAAA,QAAQ,GAAG,MAAX;AACH,KAFD,MAEO,IAAGC,MAAM,IAAI,GAAb,EAAkB;AACrBD,MAAAA,QAAQ,GAAG,MAAX;AACH,KAFM,MAEA,IAAGC,MAAM,IAAI,GAAV,IAAiBA,MAAM,IAAI,GAA3B,IAAkCA,MAAM,IAAI,GAA/C,EAAoD;AACvDD,MAAAA,QAAQ,GAAG,MAAX;AACH;;AAEDzB,IAAAA,qBAAqB,CAACqB,MAAD,EAASJ,GAAT,EAAcM,MAAd,EAAsBE,QAAtB,CAArB;AACAJ,IAAAA,MAAM,CAACM,IAAP,CAAY,qBAAZ,IAAqC,IAArC;AACA,WAAON,MAAP;AACH,GA3BD;AA4BH,CApCD",
    "sourcesContent": [
      "/*\n\n\n*/\n\nvar moment = require('moment');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\nvar updateParsedComponent = require('../en/ENWeekdayParser').updateParsedComponent;\n\nvar util = require('../../utils/ZH-Hant.js');\n\nvar PATTERN = new RegExp(\n    '(上|今|下|這|呢)?' +\n    '(?:個)?' +\n    '(?:星期|禮拜)' +\n    '(' + Object.keys(util.WEEKDAY_OFFSET).join('|') + ')'\n);\n\nvar PREFIX_GROUP = 1;\nvar WEEKDAY_GROUP = 2;\n\nexports.Parser = function ZHHantWeekdayParser() {\n\n    Parser.apply(this, arguments);\n\n    this.pattern = function() {\n        return PATTERN;\n    };\n\n    this.extract = function(text, ref, match, opt) {\n        var index = match.index;\n        text = match[0];\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref\n        });\n\n        var dayOfWeek = match[WEEKDAY_GROUP];\n        var offset = util.WEEKDAY_OFFSET[dayOfWeek];\n        if(offset === undefined) return null;\n\n        var modifier = null;\n        var prefix = match[PREFIX_GROUP];\n\n        if(prefix == '上') {\n            modifier = 'last';\n        } else if(prefix == '下') {\n            modifier = 'next';\n        } else if(prefix == '今' || prefix == '這' || prefix == '呢') {\n            modifier = 'this';\n        }\n\n        updateParsedComponent(result, ref, offset, modifier);\n        result.tags['ZHHantWeekdayParser'] = true;\n        return result;\n    };\n};\n"
    ]
  },
  "metadata": {},
  "sourceType": "module"
}
